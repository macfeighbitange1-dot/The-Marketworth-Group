{% extends "base.html" %}
{% block content %}
<section class="hero">
    <div class="container">
        <h1>Building Digital Systems That <span>Scale</span>.</h1>
        <div class="brand-visual">
            <picture>
                <source srcset="{{ url_for('static', filename='images/hero-brand.webp') }}" type="image/webp">
                <img src="{{ url_for('static', filename='images/hero-brand.png') }}" 
                     alt="The Marketworth Group Digital Ecosystem" 
                     class="responsive-img" 
                     loading="eager"
                     width="850" 
                     height="450">
            </picture>
        </div>
        <p>We specialize in E-commerce, WhatsApp Bot automation, and Facebook/Google Ads optimization for businesses in Kutus and beyond.</p>
        <div class="hero-btns">
            <a href="/services" class="btn-primary">Explore Our Solutions</a>
            <a href="https://wa.me/{{ info.whatsapp }}" class="btn-secondary">Get a Free Consultation</a>
        </div>
    </div>
</section>

<section class="calculator container" style="margin-top: -60px; position: relative; z-index: 10;">
    <div class="card" style="background: var(--white); border: 2px solid var(--brand-blue); max-width: 800px; margin: 0 auto;">
        <div style="text-align: center; margin-bottom: 1.5rem;">
            <h3>üí∞ WhatsApp Growth Calculator</h3>
            <p>See how much revenue you are missing by not automating.</p>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem;">
            <div>
                <label style="font-weight: 700; font-size: 0.9rem;">Daily Inquiries</label>
                <input type="number" id="inquiries" value="20" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #e2e8f0; margin-top: 5px;">
            </div>
            <div>
                <label style="font-weight: 700; font-size: 0.9rem;">Avg. Sale Value (KSh)</label>
                <input type="number" id="saleValue" value="1500" style="width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #e2e8f0; margin-top: 5px;">
            </div>
        </div>

        <button onclick="calculateROI()" class="btn-primary" style="margin-top: 1.5rem; width: 100%; border: none;">Calculate Potential Growth</button>

        <div id="roi-result" style="margin-top: 2rem; padding: 20px; background: #f0fdf4; border-radius: 12px; display: none; text-align: center; border: 1px dashed #16a34a;">
            <h4 style="color: #16a34a; margin-bottom: 5px;">Estimated Monthly Growth</h4>
            <p id="growthAmount" style="font-size: 2rem; font-weight: 800; color: var(--brand-dark);"></p>
            <small style="opacity: 0.7;">Based on a 30% increase in lead recovery via 24/7 Bot response.</small>
        </div>
    </div>
</section>

<section class="process container" style="padding: 80px 0;">
    <div class="section-header">
        <h2>Our <span>3-Step</span> Digital Blueprint</h2>
        <p>How we take your business from manual to automated.</p>
    </div>
    <div class="process-grid">
        <div class="step">
            <span class="step-icon">üîç</span>
            <h4>Strategy Audit</h4>
            <p>We analyze your sales funnel to find where you are losing customers.</p>
        </div>
        <div class="step">
            <span class="step-icon">üõ†Ô∏è</span>
            <h4>Custom Build</h4>
            <p>Development of your WhatsApp Bot, E-commerce site, or Portal.</p>
        </div>
        <div class="step">
            <span class="step-icon">üöÄ</span>
            <h4>Launch & Scale</h4>
            <p>Deploying Meta Ads and monitoring performance for 24/7 results.</p>
        </div>
    </div>
</section>

<section class="stats container" style="display: flex; justify-content: space-around; padding: 40px 0; text-align: center;">
    <div class="stat-item">
        <h2 style="color: var(--brand-blue); font-size: 3rem;">50+</h2>
        <p>Businesses Scaled</p>
    </div>
    <div class="stat-item">
        <h2 style="color: var(--brand-blue); font-size: 3rem;">10k+</h2>
        <p>Leads Generated</p>
    </div>
    <div class="stat-item">
        <h2 style="color: var(--brand-blue); font-size: 3rem;">24/7</h2>
        <p>Bot Uptime</p>
    </div>
</section>

<section class="case-study container" style="padding-bottom: 80px;">
    <div class="section-header">
        <h2>From 0 to <span>100+ Daily Leads</span></h2>
    </div>
    <div class="bento-grid">
        <div class="bento-card large">
            <h3>The Challenge</h3>
            <p>A local retailer was losing 40% of sales because they couldn't respond to WhatsApp messages fast enough during peak hours and at night.</p>
        </div>
        <div class="bento-card highlight">
            <div class="stat">+120%</div>
            <p>Conversion Increase</p>
        </div>
        <div class="bento-card">
            <h3>The Solution</h3>
            <p>Integrated an AI agent to handle price inquiries and stock checks 24/7.</p>
        </div>
        <div class="bento-card accent">
            <h3>Tech Stack</h3>
            <p>Flask, Cloud API, Meta Ads</p>
        </div>
    </div>
</section>

<section class="portfolio container">
    <div class="section-header"><h2>Our <span>Proven</span> Work</h2></div>
    <div class="portfolio-grid">
        <div class="project-card">
            <div class="project-img ecom-bg"><span class="tag">E-commerce</span></div>
            <div class="project-info">
                <h4>Retail Storefront</h4>
                <p>Fully integrated with M-Pesa and automated stock tracking.</p>
            </div>
        </div>
        <div class="project-card">
            <div class="project-img bot-bg"><span class="tag">Automation</span></div>
            <div class="project-info">
                <h4>WhatsApp Lead Gen Bot</h4>
                <p>Connected to Facebook Ads to capture leads 24/7.</p>
            </div>
        </div>
        <div class="project-card">
            <div class="project-img inst-bg"><span class="tag">Institutional</span></div>
            <div class="project-info">
                <h4>School Management Portal</h4>
                <p>Digital dashboard for fee payments and student records.</p>
            </div>
        </div>
    </div>
</section>

<section class="reviews container">
    <div class="section-header"><h2>What Our <span>Clients</span> Say</h2></div>
    <div class="reviews-grid">
        <div class="review-card">
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <p>"The best tech partners in Kirinyaga. Our school portal is seamless!"</p>
            <cite>‚Äî Kutus Academic Center</cite>
        </div>
        <div class="review-card">
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
            <p>"Great Facebook Ads management. The WhatsApp bot is very efficient."</p>
            <cite>‚Äî Maina's Electronics</cite>
        </div>
    </div>
</section>

<section class="contact container" id="contact">
    <div class="contact-grid">
        <div class="contact-info">
            <h2>Let's <span>Connect</span></h2>
            <p><strong>Location:</strong> Kutus Town, Kirinyaga County, Kenya</p>
            <p><strong>Phone:</strong> {{ info.phone }}</p>
            <a href="https://wa.me/{{ info.whatsapp }}" class="btn-primary" style="margin-top:1rem;">Chat Now</a>
        </div>
        <div class="map-area">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d15958.077242138244!2d37.3197931!3d-0.6121434!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1828a2a07409f87f%3A0xc6657682f9d50125!2sKutus!5e0!3m2!1sen!2ske!4v1700000000000!5m2!1sen!2ske" width="100%" height="300" style="border:0; border-radius:15px;" allowfullscreen="" loading="lazy"></iframe>
        </div>
    </div>
</section>

<script>
function calculateROI() {
    const inq = document.getElementById('inquiries').value;
    const val = document.getElementById('saleValue').value;
    const resultDiv = document.getElementById('roi-result');
    const amountText = document.getElementById('growthAmount');
    
    const monthlyGrowth = Math.round((inq * 0.3) * val * 30);
    
    amountText.innerText = "KSh " + monthlyGrowth.toLocaleString();
    resultDiv.style.display = 'block';
    
    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}
</script>
{% endblock %}